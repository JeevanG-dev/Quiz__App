const questions = {
  foods: [
    {
      question: "What is the capital city of Nepal?",
      answers: [
        { text: "Kathmandu", correct: true },
        { text: "Delhi", correct: false },
        { text: "Pokhera", correct: false },
        { text: "london", correct: false },
      ],
    },
    {
      question: "What is the fullform of SSR?",
      answers: [
        { text: "Socket side rendering", correct: false },
        { text: "Smart source rendering", correct: false },
        { text: "Server side rendering", correct: true },
        { text: "None of Above", correct: false },
      ],
    },
    {
      question: "What is the national foode of Nepal?",
      answers: [
        { text: "momo", correct: false },
        { text: "Daal Bhat", correct: true },
        { text: "Sukuti", correct: false },
        { text: "Choila", correct: false },
      ],
    },
    {
      question: "Where did sushi originate?",
      answers: [
        { text: "Kathmandu", correct: false },
        { text: "Thailand", correct: false },
        { text: "Korea", correct: false },
        { text: "Japan", correct: true },
      ],
    },
    {
      question: "What meat is used in a shepherd's pie?",
      answers: [
        { text: "Lamb", correct: true },
        { text: "Beef", correct: false },
        { text: "Chicken", correct: false },
        { text: "Goat", correct: false },
      ],
    },
    {
      question: "Which country is credited with inventing ice cream?",
      answers: [
        { text: "UK", correct: false },
        { text: "China", correct: true },
        { text: "USA", correct: false },
        { text: "Scotland", correct: false },
      ],
    },
  ],
  bodyParts: [
    {
      question: "What is the capital city of Nepal?",
      answers: [
        { text: "Kathmandu", correct: true },
        { text: "Delhi", correct: false },
        { text: "Pokhera", correct: false },
        { text: "london", correct: false },
      ],
    },
    {
      question: "What is the fullform of SSR?",
      answers: [
        { text: "Socket side rendering", correct: false },
        { text: "Smart source rendering", correct: false },
        { text: "Server side rendering", correct: true },
        { text: "None of Above", correct: false },
      ],
    },
    {
      question: "What is the national foode of Nepal?",
      answers: [
        { text: "momo", correct: false },
        { text: "Daal Bhat", correct: true },
        { text: "Sukuti", correct: false },
        { text: "Choila", correct: false },
      ],
    },
    {
      question: "Where did sushi originate?",
      answers: [
        { text: "Kathmandu", correct: false },
        { text: "Thailand", correct: false },
        { text: "Korea", correct: false },
        { text: "Japan", correct: true },
      ],
    },
    {
      question: "What meat is used in a shepherd's pie?",
      answers: [
        { text: "Lamb", correct: true },
        { text: "Beef", correct: false },
        { text: "Chicken", correct: false },
        { text: "Goat", correct: false },
      ],
    },
    {
      question: "Which country is credited with inventing ice cream?",
      answers: [
        { text: "UK", correct: false },
        { text: "China", correct: true },
        { text: "USA", correct: false },
        { text: "Scotland", correct: false },
      ],
    },
  ],
  science: [
    {
      question: "What is the capital city of Nepal?",
      answers: [
        { text: "Kathmandu", correct: true },
        { text: "Delhi", correct: false },
        { text: "Pokhera", correct: false },
        { text: "london", correct: false },
      ],
    },
    {
      question: "What is the fullform of SSR?",
      answers: [
        { text: "Socket side rendering", correct: false },
        { text: "Smart source rendering", correct: false },
        { text: "Server side rendering", correct: true },
        { text: "None of Above", correct: false },
      ],
    },
    {
      question: "What is the national foode of Nepal?",
      answers: [
        { text: "momo", correct: false },
        { text: "Daal Bhat", correct: true },
        { text: "Sukuti", correct: false },
        { text: "Choila", correct: false },
      ],
    },
    {
      question: "Where did sushi originate?",
      answers: [
        { text: "Kathmandu", correct: false },
        { text: "Thailand", correct: false },
        { text: "Korea", correct: false },
        { text: "Japan", correct: true },
      ],
    },
    {
      question: "What meat is used in a shepherd's pie?",
      answers: [
        { text: "Lamb", correct: true },
        { text: "Beef", correct: false },
        { text: "Chicken", correct: false },
        { text: "Goat", correct: false },
      ],
    },
    {
      question: "Which country is credited with inventing ice cream?",
      answers: [
        { text: "UK", correct: false },
        { text: "China", correct: true },
        { text: "USA", correct: false },
        { text: "Scotland", correct: false },
      ],
    },
  ],
  animals: [
    {
    question:"What is the fastest land animal?",
    answers:[
     {text:'Cheetah', correct:true},
     {text:'lion', correct:false},
     {text:'Horse', correct:false},
     {text:'Kangaroo', correct:false},
    ]
  },
  {
    question:"Which mammal is known to have the most powerful bite?",
    answers:[
     {text:'Lion', correct:false},
     {text:'Hippopotamus', correct:true},
     {text:'Shark', correct:false},
     {text:'Tiger', correct:false},
    ]
  },
  {
    question:"Which marine animal is known as the `unicorn of the sea`?",
    answers:[
     {text:'Dolphin', correct:false},
     {text:'Swordfish', correct:false},
     {text:'Narwhal', correct:true},
     {text:'Whale', correct:false},
    ]
  },
  {
    question:"What is a group of lions called?",
    answers:[
     {text:'Herd', correct:false},
     {text:'Pack', correct:false},
     {text:'Flock', correct:false},
     {text:'Pride', correct:true},
    ]
  },
  {
    question:"Which animal never sleeps?",
    answers:[
     {text:'Starfish', correct:false},
     {text:'Jellyfish', correct:true},
     {text:'Whale', correct:false},
     {text:'Dolphin', correct:false},
    ]
  },
  {
    question:"What is the largest species of shark?",
    answers:[
     {text:'Great White Shark', correct:false},
     {text:'Whale Shark', correct:true},
     {text:'Tiger Shark', correct:false},
     {text:'Hammerhead Shark', correct:false},
    ]
  },
  {
    question:"What type of animal is a barracuda?",
    answers:[
     {text:'Bird', correct:false},
     {text:'Mammal', correct:false},
     {text:'Fish', correct:true},
     {text:'Reptile', correct:false},
    ]
  },
  {
    question:"What is the largest species of turtle?",
    answers:[
     {text:'Leatherback Turtle ', correct:true},
     {text:'Green Turtle', correct:false},
     {text:'Hawksbill', correct:false},
     {text:'Loggerhead', correct:false},
    ]
  },
  {
    question:"Which mammal has no vocal cords?",
    answers:[
     {text:'Elephant', correct:false},
     {text:'Whale', correct:false},
     {text:'Hawksbill', correct:false},
     {text:'Giraffe', correct:true},
    ]
  },
  {
    question:"Which animal has the most legs?",
    answers:[
     {text:'Centipede', correct:false},
     {text:'Tarantula', correct:false},
     {text:'Millipede', correct:true},
     {text:'Crustacean', correct:false},
    ]
  },


],
};

const questionArea = document.getElementById("question");
const answersButtons = document.getElementById("answer-buttons");
const nextBtn = document.getElementById("next-btn");
const quizBox = document.querySelector(".quiz");
const categories = document.querySelector(".categories");

let currentQuestionIndex = 0;
let score = 0;
let categorySelected = [];

document.querySelectorAll(".category").forEach((btn) => {
  btn.addEventListener("click", () => {
    let selectedItem = btn.dataset.category;
    categorySelected = questions[selectedItem];

    startQuiz();
  });
});

function startQuiz() {
  categories.style.display = "none";
  quizBox.style.display = "block";

  currentQuestionIndex = 0;
  score = 0;
  nextBtn.innerHTML = "Next";
  showQuestions();
}

function showQuestions() {
  resetState();

  let currentQuestion = categorySelected[currentQuestionIndex];
  let questionNo = currentQuestionIndex + 1;

  questionArea.innerHTML = questionNo + "." + currentQuestion.question;

  currentQuestion.answers.forEach((answers) => {
    let button = document.createElement("button");

    button.innerHTML = answers.text;
    button.classList.add("btn");
    answersButtons.appendChild(button);

    if (answers.correct) {
      button.dataset.correct = answers.correct;
    }

    button.addEventListener("click", selectAnswer);
  });
}

function resetState() {
  nextBtn.style.display = "none";
  while (answersButtons.firstChild) {
    answersButtons.removeChild(answersButtons.firstChild);
  }
}

function selectAnswer(e) {
  let selectedBtn = e.target;

  if (selectedBtn.dataset.correct === "true") {
    selectedBtn.classList.add("correct");
    score++;
  } else {
    selectedBtn.classList.add("incorrect");
  }

  Array.from(answersButtons.children).forEach((button) => {
    if (button.dataset.correct === "true") {
      button.classList.add("correct");
    }

    button.disabled = true;
  });

  nextBtn.style.display = "block";
}

function showScore() {
  resetState();
  questionArea.innerHTML =
    `Your Score is ` + score + " out of " + categorySelected.length;
  nextBtn.innerHTML = "Start new Game";
  nextBtn.style.display = "block";
}

function handleOnClick() {
  currentQuestionIndex++;
  if (currentQuestionIndex < categorySelected.length) {
    showQuestions();
  } else {
    showScore();
  }
}

nextBtn.addEventListener("click", () => {
  if (currentQuestionIndex < categorySelected.length) {
    handleOnClick();
  } else {
    quizBox.style.display = "none";
    categories.style.display = "block";
  }
});
